<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../sass/components/navbar.css" />
    <link rel="stylesheet" href="../sass//components/footer.css" />
    <link rel="stylesheet" href="../sass/pages/registro.css" />
    <link rel="icon" href="../img/favicon.ico" type="image/x-icon" />
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Roboto:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <title>Registrate</title>
  </head>
  <body>
    <header class="navbar">
      <a href="../index.html">
        <img src="../img/Logo2NBG.png" alt="Logo pagina" class="navbar-logo" />
      </a>
      <div class="language-selector">
        <button class="language-btn" data-lang="es">ES</button>
        <span>|</span>
        <button class="language-btn" data-lang="en">EN</button>
      </div>
      <nav>
        <ul class="navbar-list">
          <li class="navbar-item">
            <a href="../pages/SobreNosotros.html" data-i18n="navSobreNosotros"
              >Sobre Nosotros</a
            >
          </li>
          <li class="navbar-item">
            <a href="../pages/recetas.html" data-i18n="navRecetas">Recetas</a>
          </li>
          <li class="navbar-item">
            <a href="../pages/recetaDia.html" data-i18n="navRecetaDia"
              >Receta del día</a
            >
          </li>
          <li class="navbar-item">
            <a href="../pages/blog.html" data-i18n="navBlog">Blog Culinario</a>
          </li>
          <li class="navbar-item">
            <a href="../pages/registro.html" data-i18n="navRegistro"
              >Registrate</a
            >
          </li>
        </ul>
      </nav>
    </header>
    <main class="main-content">
      <section class="registration-form section-anterior">
        <h2 data-i18n="formTitle">Formulario de Registro</h2>
        <form id="registration-form" action="#" method="post">
          <div class="form-group">
            <label for="nombre" data-i18n="labelNombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required />
          </div>
          <div class="form-group">
            <label for="apellido" data-i18n="labelApellido">Apellido:</label>
            <input type="text" id="apellido" name="apellido" required />
          </div>
          <div class="form-group">
            <label for="email" data-i18n="labelEmail"
              >Correo Electrónico:</label
            >
            <input type="email" id="email" name="email" required />
          </div>
          <div class="form-group">
            <label for="password" data-i18n="labelPassword">Contraseña:</label>
            <input type="password" id="password" name="password" required />
          </div>
          <div class="form-group">
            <label for="confirm-password" data-i18n="labelConfirmPassword"
              >Confirmar Contraseña:</label
            >
            <input
              type="password"
              id="confirm-password"
              name="confirm-password"
              required
            />
          </div>
          <div class="form-group">
            <label for="fecha-nacimiento" data-i18n="labelFechaNacimiento"
              >Fecha de Nacimiento:</label
            >
            <input
              type="date"
              id="fecha-nacimiento"
              name="fecha-nacimiento"
              required
            />
          </div>
          <button
            type="submit"
            class="submit-button"
            data-i18n="btnRegistrarse"
          >
            Registrarse
          </button>
        </form>
      </section>
      <div id="modal-confirmacion" class="modal">
        <div class="modal-content">
          <span class="modal-close">&times;</span>
          <p data-i18n="modalConfirmacion">
            ¿Estás seguro de que deseas registrarte?
          </p>
          <button
            id="confirmar-registro"
            class="modal-button"
            data-i18n="btnConfirmar"
          >
            Confirmar
          </button>
          <button
            id="cancelar-registro"
            class="modal-button"
            data-i18n="btnCancelar"
          >
            Cancelar
          </button>
        </div>
      </div>
    </main>
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-newsletter">
          <h3 class="footer-newsletter-title" data-i18n="footerNewsletter">
            Suscríbete a nuestro boletín
          </h3>
          <form action="#" method="post">
            <input
              type="email"
              name="email"
              placeholder="Tu correo electrónico"
              required
              class="footer-newsletter-input"
              data-i18n="footerEmail"
            />
            <button type="submit" class="footer-newsletter-button" data-i18n="footerSuscribirse">Suscribirse</button>
              Suscribirse
            </button>
          </form>
        </div>
        <ul class="footer-links-list">
          <li class="footer-links-item">
            <a href="" data-i18n="footerPrivacidad">Política de Privacidad</a>
          </li>
          <li class="footer-links-item"><a href="" data-i18n="footerTerminos">Términos de Servicio</a></li>
          <li class="footer-links-item"><a href="" data-i18n="footerContacto">Contacto</a></li>
        </ul>
        <div class="footer-social">
          <a href="https://www.facebook.com" target="_blank"
            ><img
              src="../img/icons/facebook.png"
              alt="Facebook"
              class="footer-social-icon"
          /></a>
          <a href="https://www.twitter.com" target="_blank"
            ><img
              src="../img/icons/twitter.png"
              alt="Twitter"
              class="footer-social-icon"
          /></a>
          <a href="https://www.instagram.com" target="_blank"
            ><img
              src="../img/icons/instagram.png"
              alt="Instagram"
              class="footer-social-icon"
          /></a>
        </div>
      </div>
      <p class="footer-copyright" data-i18n="footerCopyright">&copy; © 2025 CookShelf. Todos los derechos reservados.</p>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("registration-form");
        const modal = (document.getElementById(
          "modal-confirmacion"
        ).style.display = "none");

        const modalClose = document.querySelector(".modal-close");
        const confirmarRegistro = document.getElementById("confirmar-registro");
        const cancelarRegistro = document.getElementById("cancelar-registro");
        const progressBarFill = document.querySelector(".progress-bar-fill");

        form.addEventListener("submit", function (event) {
          event.preventDefault();
          let valid = true;
          const email = document.getElementById("email");
          const password = document.getElementById("password");
          const confirmPassword = document.getElementById("confirm-password");

          // Validar email
          if (!email.value.includes("@")) {
            alert("Por favor, introduce un correo electrónico válido.");
            valid = false;
          }

          // Validar contraseñas
          if (password.value !== confirmPassword.value) {
            alert("Las contraseñas no coinciden.");
            valid = false;
          }

          if (valid) {
            modal.style.display = "block";
          }
        });

        form.addEventListener("input", function () {
          const formElements = this.querySelectorAll(
            "input[type='text'], input[type='email'], input[type='password'], input[type='date']"
          );
          let filledElements = 0;
          formElements.forEach((element) => {
            if (element.value.trim() !== "") {
              filledElements++;
            }
          });
          const progress = (filledElements / formElements.length) * 100;
          progressBarFill.style.width = progress + "%";
        });

        confirmarRegistro.addEventListener("click", function () {
          form.submit();
        });

        cancelarRegistro.addEventListener("click", function () {
          modal.style.display = "none";
        });

        modalClose.addEventListener("click", function () {
          modal.style.display = "none";
        });

        window.addEventListener("click", function (event) {
          if (event.target === modal) {
            modal.style.display = "none";
          }
        });
      });
    </script>
    <script src="../js/translations.js"></script>
  </body>
</html>
